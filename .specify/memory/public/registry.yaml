version: 1
modules:
  backend.core:
    kind: python
    semver: 0.1.0
    manifest: docs/public/backend.core.api.md
    contract: backend/src/ai_life_backend/contracts/core_protocols.py
    import_hint: from ai_life_backend.core.public import *
    allowed_dirs:
      - backend/src/ai_life_backend/core/**
      - backend/tests/core/**
      - backend/src/ai_life_backend/contracts/core_protocols.py
      - docs/public/backend.core.api.md
    uses: ["-"]
    notes: "Cross-cutting primitives (types, errors, small utilities). No domain logic."

  backend.goals:
    kind: python
    semver: 0.1.0
    manifest: docs/public/backend.goals.api.md
    contract: backend/src/ai_life_backend/contracts/goals_openapi.yaml
    import_hint: from ai_life_backend.goals.public import *
    allowed_dirs:
      - backend/src/ai_life_backend/goals/**
      - backend/tests/goals/**
      - backend/src/ai_life_backend/contracts/goals_openapi.yaml
      - docs/public/backend.goals.api.md
    uses: ["backend.core"]
    notes: "Goals feature module. HTTP contract via OpenAPI; in-process read-only queries via public port."

  frontend.design:
    kind: typescript
    semver: 0.1.0
    manifest: docs/public/frontend.design.api.md
    contract: frontend/src/contracts/design.d.ts
    import_hint: import * as design from '@/features/design'
    allowed_dirs:
      - frontend/src/features/design/**
      - frontend/src/contracts/design.d.ts
      - docs/public/frontend.design.api.md
    uses: ["-"]
    notes: "Foundational design system with no dependencies."

  frontend.goals:
    kind: typescript
    semver: 0.1.0
    manifest: docs/public/frontend.goals.api.md
    contract: frontend/src/contracts/goals.d.ts
    import_hint: import * as goals from '@/features/goals'
    allowed_dirs:
      - frontend/src/features/goals/**
      - frontend/src/contracts/goals.d.ts
      - docs/public/frontend.goals.api.md
    uses:
      - frontend.design
      - backend.goals
    notes: "Goals UI. Uses design system and backend.goals over HTTP."

  frontend.dashboard:
    kind: typescript
    semver: 0.1.0
    manifest: docs/public/frontend.dashboard.api.md
    contract: frontend/src/contracts/dashboard.d.ts
    import_hint: import * as dashboard from '@/features/dashboard'
    allowed_dirs:
      - frontend/src/features/dashboard/**
      - frontend/src/contracts/dashboard.d.ts
      - docs/public/frontend.dashboard.api.md
    uses:
      - frontend.design
    notes: "Dashboard page module. Main entry point UI for the application."

  frontend.app-shell:
    kind: typescript
    semver: 0.1.0
    manifest: docs/public/frontend.app-shell.api.md
    contract: frontend/src/contracts/app-shell.d.ts
    import_hint: import * as appShell from '@/features/app-shell'
    allowed_dirs:
      - frontend/src/features/app-shell/**
      - frontend/src/contracts/app-shell.d.ts
      - frontend/src/app/**
      - docs/public/frontend.app-shell.api.md
    uses:
      - frontend.dashboard
      - frontend.goals
    notes: "App shell and routing module. Owns Next.js App Router glue (frontend/src/app/**)."
