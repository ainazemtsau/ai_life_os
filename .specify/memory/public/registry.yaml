version: 1
modules:
  frontend.design:
    kind: typescript
    semver: 0.1.0
    manifest: .specify/memory/public/frontend.design.api.md
    contract: "-"                         # no separate .d.ts contract
    import_hint: import * as design from '@/features/design'
    allowed_dirs:
      - frontend/src/features/design/**
    uses: ["-"]
    notes: 'Design System; import only from the root entrypoint'

  backend.goals:
    kind: python
    semver: 0.1.0
    manifest: .specify/memory/public/backend.goals.api.md
    contract: backend/src/ai_life_backend/contracts/goals_openapi.yaml   # single HTTP contract (OpenAPI)
    import_hint: from ai_life_backend.goals.public import *              # same-process public port
    allowed_dirs:
      - backend/src/ai_life_backend/goals/**
      - backend/tests/goals/**
    uses: ["-"]
    notes: 'Same-process: use in-process port from ai_life_backend.goals.public; Cross-process: use HTTP via OpenAPI'

  frontend.goals:
    kind: typescript
    semver: 0.1.0
    manifest: .specify/memory/public/frontend.goals.api.md
    contract: "-"                         # consumes backend.goals OpenAPI
    import_hint: import * as goals from '@/features/goals'
    allowed_dirs:
      - frontend/src/features/goals/**
    uses:
      - frontend.design
      - backend.goals
    notes: 'Generate types/SDK from backend.goals OpenAPI'
